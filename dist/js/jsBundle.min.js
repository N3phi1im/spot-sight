!function(){"use strict";function t(t,e,o,n,r,s){t.state("Home",{url:"/",templateUrl:"views/home.html",controller:"HomeController as vm"}),e.otherwise("/"),o.caseInsensitive(!0),o.strictMode(!1),n.html5Mode(!0),r.theme("default").primaryPalette("deep-orange").accentPalette("deep-purple"),s.defaultFontSet("material-icons")}t.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider","$mdThemingProvider","$mdIconProvider"],angular.module("app",["ui.router","ngMaterial"]).config(t)}(),function(){"use strict";function t(t,e,o,n){var r=this;r.user={},r.status=n.status,t.hide=function(){e.hide()},t.cancel=function(){e.cancel()},r.register=function(){var t=r.user;return t.username&&t.password&&t.c_password&&t.password===t.c_password?void n.register(t).then(function(){e.hide()}):!1},r.login=function(){n.login(r.user).then(function(){e.hide(),o.show(o.simple().textContent("Welcome back "+r.status.username.charAt(0).toUpperCase()+r.status.username.slice(1)+"!"))})}}t.$inject=["$scope","$mdDialog","$mdToast","UserService"],angular.module("app").controller("DialogController",["$scope","$mdDialog","UserService",function(e,o,n){var r=this;r.status=n.status,r.logout=function(){localStorage.removeItem("token"),r.status.isLoggedIn=!1,r.status.callid=null,r.status.username=null},e.showTabDialog=function(e){o.show({controllerAs:"vm",controller:t,templateUrl:"views/Dialog.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})}}])}(),function(){"use strict";function t(t,e){var o=this;o.list=[],o.open=!1,o.status=t.status,o.isOpen=!1,o.add_contact=function(t){console.log(o.status);var n={add_id:t,logged_in_id:o.status._id};e.add_contact(n).then(function(t){o.list.length=0})},o.look=function(t){o.list.length=0,e.contact_list_search(t).then(function(t){for(var e=0;e<t.length;e++)o.list.push(t[e])})},o.fab={isOpen:!1,count:0}}t.$inject=["UserService","HomeFactory"],angular.module("app").controller("HomeController",t)}(),function(){"use strict";function t(t,e,o){function n(o){var n=e.defer();return t.post("/users/search",o).success(function(t){n.resolve(t)}),n.promise}function r(o){var n=e.defer();return t.post("/users/add",o).success(function(t){n.resolve(t)}),n.promise}var s={};return s.contact_list_search=n,s.add_contact=r,s}t.$inject=["$http","$q","UserService"],angular.module("app").factory("HomeFactory",t)}(),function(){"use strict";function t(t,e){return{request:function(t){return t.headers=t.headers||{},t.headers.Accepts="application/json",t.headers["Content-Type"]="application/json",$window.localStorage.getItem("token")&&(t.headers.Authorization="Bearer "+$window.localStorage.getItem("token")),t}}}t.$inject=["$http","$q"],angular.module("app").factory("HTTPFactory",t)}(),function(){"use strict";function t(t,e,o){function n(o){var n={username:o.username.toLowerCase(),password:o.password},r=e.defer();return t.post("/users/login",n).success(function(t){s(t.token),l.status.isLoggedIn=!0,r.resolve()}),r.promise}function r(o){var n=e.defer();return t.post("/users/register",o).success(function(t){l.login(o),n.resolve()}),n.promise}function s(t){localStorage.setItem("token",t),l.status.callid=i(),l.status.username=u(),l.status._id=c()}function a(){return localStorage.token}function i(){return JSON.parse(atob(a().split(".")[1])).callid}function u(){return JSON.parse(atob(a().split(".")[1])).username}function c(){return JSON.parse(atob(a().split(".")[1]))._id}var l={};return l.status={},a()&&(l.status.isLoggedIn=!0,l.status.callid=i(),l.status.username=u(),l.status._id=c()),l.setToken=s,l.getToken=a,l.login=n,l.register=r,l}t.$inject=["$http","$q","$window"],angular.module("app").factory("UserService",t)}();