!function(){"use strict";function e(e,t,r,o,n,s){e.state("Home",{url:"/",templateUrl:"templates/home.html",controller:"HomeController as hc"}),t.otherwise("/"),r.caseInsensitive(!0),r.strictMode(!1),o.html5Mode(!0),n.theme("default").primaryPalette("deep-orange").accentPalette("deep-purple"),s.defaultFontSet("material-icons")}e.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider","$mdThemingProvider","$mdIconProvider"],angular.module("app",["ui.router","ngMaterial"]).config(e)}(),function(){"use strict";function e(e,t,r,o){var n=this;n.user={},n.status=o.status,e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},n.register=function(){var e=n.user;return e.username&&e.password&&e.c_password&&e.password===e.c_password?void o.register(e).then(function(){t.hide()}):!1},n.login=function(){o.login(n.user).then(function(){t.hide(),r.show(r.simple().textContent("Welcome back "+n.status.username.charAt(0).toUpperCase()+n.status.username.slice(1)+"!"))})}}e.$inject=["$scope","$mdDialog","$mdToast","UserService"],angular.module("app").controller("DialogController",["$scope","$mdDialog","UserService",function(t,r,o){var n=this;n.status=o.status,n.logout=function(){localStorage.removeItem("token"),n.status.isLoggedIn=!1,n.status.callid=null,n.status.username=null},t.showTabDialog=function(t){r.show({controllerAs:"vm",controller:e,templateUrl:"templates/Dialog.html",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})}}])}(),function(){"use strict";function e(e){var t=this;t.status=e.status}e.$inject=["UserService"],angular.module("app").controller("HomeController",e)}(),function(){"use strict";function e(e,t){var r={};return r}e.$inject=["$http","$q"],angular.module("app").factory("HomeFactory",e)}(),function(){"use strict";function e(e,t){return{request:function(e){return e.headers=e.headers||{},e.headers.Accepts="application/json",e.headers["Content-Type"]="application/json",$window.localStorage.getItem("token")&&(e.headers.Authorization="Bearer "+$window.localStorage.getItem("token")),e}}}e.$inject=["$http","$q"],angular.module("app").factory("HTTPFactory",e)}(),function(){"use strict";function e(e,t,r){function o(r){var o={username:r.username.toLowerCase(),password:r.password},n=t.defer();return e.post("/users/login",o).success(function(e){s(e.token),c.status.isLoggedIn=!0,n.resolve()}),n.promise}function n(r){var o=t.defer();return e.post("/users/register",r).success(function(e){c.status.isLoggedIn=!0,o.resolve()}),o.promise}function s(e){localStorage.setItem("token",e),c.status.callid=i(),c.status.username=u()}function a(){return localStorage.token}function i(){return JSON.parse(atob(a().split(".")[1])).callid}function u(){return JSON.parse(atob(a().split(".")[1])).username}var c={};return c.status={},a()&&(c.status.isLoggedIn=!0,c.status.callid=i(),c.status.username=u()),c.setToken=s,c.getToken=a,c.login=o,c.register=n,c}e.$inject=["$http","$q","$window"],angular.module("app").factory("UserService",e)}();